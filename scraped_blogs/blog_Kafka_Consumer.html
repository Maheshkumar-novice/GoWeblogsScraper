<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Kafka Consumer | Weblogs</title>
<meta name=title content="Kafka Consumer"><meta name=description content="Kafka Kafka is a distributed real-time data handling system. It stores real-time data and serves it to consumers. Clients who post data to kafka are called as producers and who listens to get the data are called the consumers.
Kafka Topic Data is organized into topics in Kafka. These are immutable list of data (append only).
For example, You may have a system to store real-time super-hero data for Marvel & DC but you don&rsquo;t want to store everything in a single area."><meta name=author content><meta name=keywords content="kafka,system-design,"><meta property="og:url" content="https://maheshkumar-novice.github.io/GoWeblogs/blog/kafka-consumer/"><meta property="og:site_name" content="Weblogs"><meta property="og:title" content="Kafka Consumer"><meta property="og:description" content="Kafka Kafka is a distributed real-time data handling system. It stores real-time data and serves it to consumers. Clients who post data to kafka are called as producers and who listens to get the data are called the consumers.
Kafka Topic Data is organized into topics in Kafka. These are immutable list of data (append only).
For example, You may have a system to store real-time super-hero data for Marvel & DC but you don’t want to store everything in a single area."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2024-01-02T12:41:58+05:30"><meta property="article:modified_time" content="2024-01-02T12:41:58+05:30"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="System-Design"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kafka Consumer"><meta name=twitter:description content="Kafka Kafka is a distributed real-time data handling system. It stores real-time data and serves it to consumers. Clients who post data to kafka are called as producers and who listens to get the data are called the consumers.
Kafka Topic Data is organized into topics in Kafka. These are immutable list of data (append only).
For example, You may have a system to store real-time super-hero data for Marvel & DC but you don’t want to store everything in a single area."><meta itemprop=name content="Kafka Consumer"><meta itemprop=description content="Kafka Kafka is a distributed real-time data handling system. It stores real-time data and serves it to consumers. Clients who post data to kafka are called as producers and who listens to get the data are called the consumers.
Kafka Topic Data is organized into topics in Kafka. These are immutable list of data (append only).
For example, You may have a system to store real-time super-hero data for Marvel & DC but you don’t want to store everything in a single area."><meta itemprop=datePublished content="2024-01-02T12:41:58+05:30"><meta itemprop=dateModified content="2024-01-02T12:41:58+05:30"><meta itemprop=wordCount content="503"><meta itemprop=keywords content="Kafka,System-Design"><meta name=referrer content="no-referrer-when-downgrade"><link href=/GoWeblogs/original.min.css rel=stylesheet></head><body><header><a class=skip-link href=#main-content>Skip to main content</a>
<a href=/GoWeblogs/ class=title><h1>Weblogs</h1></a><nav><a href=/GoWeblogs/>Home</a>
<a href=/GoWeblogs/blog/>Blog</a>
<a href=/GoWeblogs/checkins/>Check-ins</a>
<a href=https://github.com/Maheshkumar-novice/TIL target=_blank>TIL</a>
<a href=https://github.com/Maheshkumar-novice target=_blank>Github</a>
<a href=https://maheshkumar-novice.github.io/GoWeblogs/index.xml>RSS</a></nav></header><main id=main-content><h1>Kafka Consumer</h1><p class=byline><time datetie=2024-01-02 pubdate>2024-01-02</time></p><content><nav id=TableOfContents><ul><li><a href=#kafka>Kafka</a></li><li><a href=#kafka-topic>Kafka Topic</a><ul><li><a href=#kafka-partition>Kafka Partition</a></li></ul></li><li><a href=#kafka-consumer>Kafka Consumer</a><ul><li><a href=#kafka-consumer-group>Kafka Consumer Group</a></li><li><a href=#kafka-consumer-configurations>Kafka Consumer Configurations</a><ul><li><a href=#bootstrapservers><code>bootstrap.servers</code></a></li><li><a href=#groupid><code>group.id</code></a></li><li><a href=#enableautocommit><code>enable.auto.commit</code></a></li><li><a href=#autooffsetreset><code>auto.offset.reset</code></a></li><li><a href=#sessiontimeoutms><code>session.timeout.ms</code></a></li></ul></li></ul></li><li><a href=#references>References</a></li></ul></nav><h1 id=kafka>Kafka</h1><p><img src=diagram.png alt=diagram></p><p>Kafka is a distributed real-time data handling system. It stores real-time data and serves it to consumers.
Clients who post data to kafka are called as <code>producers</code> and who listens to get the data are called the <code>consumers</code>.</p><h1 id=kafka-topic>Kafka Topic</h1><p>Data is organized into <code>topics</code> in Kafka. These are immutable list of data (append only).</p><p>For example, You may have a system to store real-time super-hero data for <code>Marvel</code> & <code>DC</code> but you don&rsquo;t want to store everything in a single area. We need a way to store these data and process separately. This is the use case for <code>topics</code>. We can have <code>Marvel</code> and <code>DC</code> topics to store the respective data.</p><h2 id=kafka-partition>Kafka Partition</h2><p>Remember, Kafka is a distributed system. That means, data is stored in multiple systems.</p><p>If a topic&rsquo;s data is stored in a single system and if that system goes down, no one can read from that topic until the system gets up.</p><p>But if we split the topic and store it in multiple places (<code>partitioning</code>) we can avoid single point of failure. We can configure the number of partitions to be created for each topic.</p><p>Simply, <code>partition</code> is nothing but splitting the <code>topic</code> data in multiple places. Topic data is distributed across all the partitions. There are algorithms used to distribute like round-robin that you can explore separately.</p><h1 id=kafka-consumer>Kafka Consumer</h1><p>Kafka <code>Consumer</code> is a client who wants to subscribe to a <code>topic</code> data. If I want to get all the <code>Marvel</code> super-hero updates then I can subscribe to the <code>Marvel</code> topic. Now I can get the real-time updates from <code>Marvel</code>.</p><h2 id=kafka-consumer-group>Kafka Consumer Group</h2><p>We have the <code>Marvel</code> data splitted across <code>partitions</code> so currently we have a single consumer fetching all the data and processing it.</p><p>But if the data is huge and keep coming then we can make use of the parallel processing across multiple consumers. This is where <code>consumer groups</code> shines. We can create multiple consumers with the same <code>group id</code> and the coordinator of the topic (usually the kafka broker (server)) will assign the <code>partitions</code> to each of them.</p><p>Now each consumer can consumer from their respective <code>partition</code> and process it. This makes our processing very fast.</p><h2 id=kafka-consumer-configurations>Kafka Consumer Configurations</h2><h3 id=bootstrapservers><code>bootstrap.servers</code></h3><p>The Broker (Server) that we are trying to connect to</p><h3 id=groupid><code>group.id</code></h3><p>The group which the consumer belongs to</p><h3 id=enableautocommit><code>enable.auto.commit</code></h3><p>Config to enable automatic save of the latest offset read by the <code>consumer</code> of the <code>partition</code>. Offset is like an index of an array. But in this case the position of the message of a partition</p><h3 id=autooffsetreset><code>auto.offset.reset</code></h3><p>From where the new consumer to start consume from? If the group is created for the first time or when the commit offset is invalid or not available. Example, <code>earliest</code> - Read from the beginning of the partition, <code>latest</code> - Read the messages that are coming from now on.</p><h3 id=sessiontimeoutms><code>session.timeout.ms</code></h3><p>If the heartbeat is not sent to the coordinator (broker) within the timeout period then it removes the consumer from the group.</p><h1 id=references>References</h1><ul><li><a href=https://docs.confluent.io/platform/current/clients/consumer.html>https://docs.confluent.io/platform/current/clients/consumer.html</a></li><li><a href=https://www.baeldung.com/kafka-topics-partitions>https://www.baeldung.com/kafka-topics-partitions</a></li><li><a href=https://stackoverflow.com/questions/38024514/understanding-kafka-topics-and-partitions>https://stackoverflow.com/questions/38024514/understanding-kafka-topics-and-partitions</a></li><li><a href="https://www.google.com/search?q=what+is+kafka">https://www.google.com/search?q=what+is+kafka</a></li><li><a href=https://www.baeldung.com/java-kafka-bootstrap-server>https://www.baeldung.com/java-kafka-bootstrap-server</a></li><li><a href=https://docs.confluent.io/kafka-clients/python/current/overview.html#python-installation>https://docs.confluent.io/kafka-clients/python/current/overview.html#python-installation</a></li></ul></content><p><a class=blog-tags href=/GoWeblogs/tags/kafka/>#kafka</a>
<a class=blog-tags href=/GoWeblogs/tags/system-design/>#system-design</a></p></main><footer><small>Maheshkumar | Made with <a href=https://github.com/clente/hugo-bearcub>Bear Cub</a></small></footer></body></html>
